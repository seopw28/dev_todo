# 개발 일지 - 2025-11-02

## 주요 개발 내용 요약

### 1. 탭 구조 변경
- **변경**: "전체", "활성", "완료" → "할일", "완료", "휴지통"
- **목적**: 더 직관적인 UI와 휴지통 기능 분리

### 2. 휴지통 기능 구현
- **구현 내용**:
  - `deleted` 필드로 삭제된 항목 관리
  - 휴지통 탭에서 삭제된 항목만 표시
  - 휴지통에서 완전 삭제 기능
  - "휴지통 비우기" 버튼 추가
  
### 3. 삭제 로직 개선
- **할일/완료 탭**: 확인 없이 바로 휴지통으로 이동
- **휴지통 탭**: 확인 후 완전 삭제
- 휴지통 항목은 완료/수정 불가 처리

### 4. 커스텀 모달 구현
- **변경**: 브라우저 기본 `confirm()` → 다크 모드 커스텀 모달
- **기능**: 
  - 배경 블러 효과
  - ESC 키/배경 클릭으로 취소
  - Promise 기반 비동기 처리
  - 애니메이션 효과

### 5. 렌더링 최적화
- **문제**: 할일 추가 시 반짝임 현상
- **해결**:
  - Debounce 적용 (50ms 내 연속 렌더링 묶음)
  - HTML 캐싱으로 불필요한 DOM 업데이트 방지
  - `requestAnimationFrame`으로 렌더링 사이클 최적화
  - CSS 애니메이션(`slideIn`) 제거

### 6. UI 개선
- 휴지통 탭 활성 시 파란색 밑줄 제거 (`border-bottom-color: transparent`)
- 드래그 앤 드롭 기능 제거 (작동 불안정)
- 클릭 이벤트 단순화 (상세 페이지 열기만 유지)

---

## 기술적 변경 사항

### 파일 변경
- `index.html`: 탭 구조 변경, 커스텀 모달 추가
- `script-firestore.js`: 
  - 필터링 로직 개선 (`getFilteredTodos`)
  - 삭제 로직 분리 (`deleteTodo`)
  - 휴지통 비우기 함수 추가 (`emptyTrash`)
  - 커스텀 모달 함수 추가 (`showModal`)
  - 렌더링 최적화 (`debouncedRenderTodos`, HTML 캐싱)
  - 드래그 앤 드롭 기능 제거
- `style.css`: 
  - 모달 스타일 추가
  - 탭 활성 상태 스타일 수정
  - 드래그 관련 스타일 제거

### Firestore 스키마
- `deleted`: boolean (휴지통 관리)
- `deletedAt`: timestamp (삭제 시각)

